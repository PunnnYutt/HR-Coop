<template>
  <v-app class="form-body">
    <div class="form-first-section">
      <position-card />
      <personalCard />
      <educationCard />
      <familyCard />
      <skillCard />

      <div class="policy-section">
        <label class="policy-section" @click="popup = true">
          <input
            type="checkbox"
            id="myCheckbox"
            onclick="return false;"
            v-model="policyAcceptance"
          />
          <span>ยอมรับนโยบายคุ้มครองข้อมูลส่วนบุคคล</span>
        </label>
      </div>
    </div>

    <v-dialog v-model="popup" max-width="819px" persistent>
      <v-card>
        <v-card-title class="card-title justify-center pa-0" width="100%">
          <span class="card-title-text"> นโยบายคุ้มครองข้อมูลส่วนบุคคล </span>
          <div class="closeButton" @click="closePolicy">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_1_2392)">
                <path
                  d="M12.0002 10.5857L16.2432 6.34274C16.6337 5.95228 17.2668 5.95228 17.6572 6.34274C18.0477 6.73321 18.0477 7.36628 17.6572 7.75674L13.4142 11.9997L17.6572 16.2427C18.0477 16.6332 18.0477 17.2663 17.6572 17.6567C17.2668 18.0472 16.6337 18.0472 16.2432 17.6567L12.0002 13.4137L7.75723 17.6567C7.36677 18.0472 6.7337 18.0472 6.34323 17.6567C5.95277 17.2663 5.95277 16.6332 6.34323 16.2427L10.5862 11.9997L6.34323 7.75674C5.95277 7.36628 5.95277 6.73321 6.34323 6.34274C6.7337 5.95228 7.36677 5.95228 7.75723 6.34274L12.0002 10.5857Z"
                  fill="#58A144"
                />
              </g>
              <defs>
                <clipPath id="clip0_1_2392">
                  <rect width="24" height="24" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </div>
        </v-card-title>

        <v-card-text class="px-6 pt-6 pb-0">
          <div class="policy-text">
            <p>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              วัตถุประสงค์ของข้อกำหนดการใช้งานบัญชีระบบยืนยันตัวตนกลาง (ONE ID
              Account Terms of Use) (ต่อไปนี้เรียกว่า "ข้อกำหนด")
              มีไว้เพื่อวางข้อกำหนดและเงื่อนไข
              สำหรับการใช้บริการทั้งหมดที่เกี่ยวกับบัญชีระบบยืนยันตัวตนกลาง (ONE
              ID Account) (ต่อไปนี้เรียกว่า "บัญชีกลาง") ซึ่งให้บริการโดยไทย
              ไอเด็นติตี้ส์ (THAI IDENTITIES) และบริษัทในเครือ
              (ต่อไปนี้เรียกรวมกันว่า "บริษัท")<br />
              ลูกค้าจะต้องใช้บัญชีกลางโดยเป็นไปตามข้อกำหนดนี้
              และข้อกำหนดและระเบียบการ (Terms and Conditions) นอกจากนี้
              ลูกค้าจะต้องรับผิดชอบในการปฏิบัติตามกฎหมายและข้อบังคับทั้งหมดที่เกี่ยวข้องเมื่อใช้งานบัญชีกลาง<br />
              ข้อ 1 การสมัครใช้งาน การยืนยันตัวตน การปฏิเสธการยืนยันตัวตน
              และการยกเลิกการยืนยันตัวตน<br />
              1.1 ไม่ว่าลูกค้าจะเป็นบุคคลธรรมดาหรือนิติบุคคล ลูกค้าจะได้รับบัญชี
              (ต่อไปนี้เรียกว่า "บัญชีกลาง") เพื่อใช้งานบัญชีกลาง
              โดยการสมัครขอใช้งานบัญชีกลางผ่านทางวิธีการที่บริษัทกำหนด<br />
              1.2
              เมื่อลูกค้าได้สมัครใช้งานบัญชีกลางผ่านทางวิธีการที่บริษัทกำหนดและได้รับการอนุมัติจากบริษัทแล้ว
              บริษัทอาจจะดำเนินการยืนยันบัญชีกลางของลูกค้าดังกล่าว
              (ต่อไปนี้จะเรียกบัญชีซึ่งได้รับการยืนยันจากบริษัทว่า
              "บัญชีกลางที่ได้รับการยืนยันแล้ว")<br />
              1.3
              ในกรณีที่บริษัทเห็นว่ามีข้อใดข้อหนึ่งดังต่อไปนี้เกิดขึ้นกับลูกค้า
              บริษัทสามารถปฏิเสธคำขอของลูกค้าดังกล่าวสำหรับบัญชีกลางที่ได้รับการยืนยันแล้ว
              หรือยกเลิกการยืนยันตัวตนของบัญชีกลางที่ได้รับการยืนยันแล้วของลูกค้าดังกล่าวก็ได้<br />
              (1) ในกรณีที่ลูกค้าให้ข้อมูลเท็จแก่บริษัท<br />
              (2) ในกรณีที่ไม่เป็นไปตามมาตรฐานของการตรวจสอบ
              (ซึ่งบริษัทไม่มีหน้าที่ต้องเปิดเผยมาตรฐานดังกล่าว)
              ที่บริษัทกำหนดขึ้น<br />
              (3) นอกจากนี้
              ในกรณีที่บริษัทเห็นว่าเป็นเรื่องไม่เหมาะสมที่ลูกค้าจะใช้งานบัญชีกลาง<br />
              ข้อ 2 การปรับปรุงข้อกำหนด<br />
              บริษัทสามารถปรับปรุงข้อกำหนดนี้และลักษณะของการบริการ และอื่น ๆ
              ที่ให้บริการโดยบัญชีกลางได้โดยแจ้งให้ลูกค้าทราบถึงการปรับปรุงดังกล่าวโดยการประกาศหรือการบอกกล่าวตามที่บริษัทเห็นว่าจำเป็นโดยดุลพินิจฝ่ายเดียวของบริษัทหรือตามที่กฎหมายที่เกี่ยวข้องกำหนด
              ในกรณีที่ลูกค้ายังคงใช้งานบัญชีกล่งต่อไปหลังจากการปรับปรุง
              ให้ถือว่าลูกค้าดังกล่าวได้ให้ความยินยอมในการปรับปรุงข้อกำหนดนี้และลักษณะการบริการ
              และอื่น ๆ แล้ว<br />
              ข้อ 3 ระยะเวลาการใช้งาน<br />
              3.1ระยะเวลาใช้งานสำหรับบัญชีกลาง
              จะเริ่มต้นตั้งแต่วันที่ลูกค้ามีคำขอใช้งานบัญชีดังกล่าวจนถึงวันที่บัญชีนั้นถูกลบอย่างเสร็จสมบูรณ์<br />
              ข้อ 4 ค่าบริการ<br />
              4.1 บริษัทจะกำหนดลักษณะ ค่าบริการ
              และวันที่ถึงกำหนดชำระค่าบริการสำหรับแผนการบริการที่ต้องชำระค่าบริการ
              และอื่น ๆ และจะประกาศหรือบอกกล่าวลูกค้าเกี่ยวกับเรื่องดังกล่าว
              โปรดตรวจสอบเรื่องดังกล่าวข้างต้นในเวลาที่สมัครใช้งานแผนการบริการที่ต้องชำระค่าบริการ<br />
              4.2 บริษัทสามารถเปลี่ยนแปลงหรือเพิ่มเติม
              แผนการบริการที่ต้องชำระค่าบริการโดยแจ้งให้ลูกค้าทราบโดยการประกาศหรือบอกกล่าวเกี่ยวกับเรื่องดังกล่าว<br />
              4.3
              เมื่อลูกค้าประสงค์จะเปลี่ยนแปลงแผนการบริการจากแบบไม่มีค่าบริการเป็นแผนการบริการที่ต้องชำระค่าบริการ
              ลูกค้าดังกล่าวจะต้องมีคำขอเปลี่ยนแปลงดังกล่าวผ่านทางวิธีการที่บริษัทกำหนดขึ้น
              และลูกค้า
              จะสามารถทำการเปลี่ยนแปลงดังกล่าวได้ในวันที่บริษัทได้รับคำขอเช่นว่านั้นแล้ว
              นอกจากนี้
              เมื่อลูกค้าประสงค์จะเปลี่ยนแปลงจากแผนการบริการที่ต้องชำระค่าบริการแผนหนึ่งเป็นอีกแผนหนึ่ง
              หรือเป็นแบบไม่มีค่าบริการ
              ลูกค้าจะสามารถทำการเปลี่ยนแปลงดังกล่าวได้ในเดือนถัดจากวันที่บริษัทได้รับคำขอเปลี่ยนแปลงเช่นว่านั้น<br />
              4.4
              แม้ว่าลูกค้าจะได้ทำการยกเลิกบัญชีทางการสำหรับแผนการบริการที่ต้องชำระค่าบริการภายในเดือนใดแล้วก็ตาม
              ลูกค้าดังกล่าวยังจะต้องชำระค่าบริการรายเดือนสำหรับเดือนดังกล่าวเต็มจำนวนและค่าบริการดังกล่าวจะไม่ถูกคำนวณเป็นรายวัน
              นอกจากนี้ แม้ว่าบัญชีทางการจะถูกยกเลิกแล้ว
              บริษัทจะไม่คืนค่าบริการที่ลูกค้าได้ชำระไว้ล่วงหน้าให้แก่ลูกค้า<br />
              4.5 ในเวลาที่ชำระค่าบริการให้แก่บริษัท
              หากค่าบริการดังกล่าวจะต้องเสียภาษีการบริโภคตามบทบัญญัติของพระราชบัญญัติภาษีธุรกิจว่าด้วยภาษีมูลค่าเพิ่มและที่ไม่ใช่ภาษีมูลค่าเพิ่ม
              (Value-added and Non-value-added Business Tax Act) รวมถึงกฎหมาย
              และ/หรือ ข้อบังคับที่เกี่ยวข้องกับพระราชบัญญัติดังกล่าว
              หรือกฎหมายหรือข้อบังคับใด ๆ ที่เกี่ยวข้อง
              ลูกค้าจะต้องชำระค่าบริการนั้นพร้อมด้วยจำนวนเงินซึ่งเท่ากับภาษีที่เกี่ยวข้อง<br />
              ข้อ 5 บัญชีกลาง<br />
              5.1
              ลูกค้าจะต้องจัดการรหัสผ่านสำหรับบัญชีกลางด้วยความรับผิดชอบของตนเองอย่างเคร่งครัดเพื่อมิให้ถูกนำไปใช้โดยไม่ได้รับอนุญาต
              ทั้งนี้ บริษัทจะถือว่าการกระทำใด ๆ
              และทั้งหลายที่ได้กระทำขึ้นผ่านทางรหัสผ่านที่ได้ลงทะเบียนไว้นั้นเป็นการกระทำของลูกค้า<br />
              5.2
              บริษัทไม่ต้องรับผิดชอบสำหรับความเสียหายหรือการเสียประโยชน์ที่เกิดขึ้นกับลูกค้าจากการกระทำที่ได้กระทำผ่านบัญชีกลางไม่ว่าด้วยเหตุใดก็ตาม<br />
              5.3 หากลูกค้ามีความประสงค์
              บริษัทอาจให้ความช่วยเหลือลูกค้าในการดำเนินการเกี่ยวกับบัญชีกลางในขอบเขตที่สมเหตุสมผลได้ในบางกรณี
              ในกรณีดังกล่าว
              บริษัทสามารถเข้าถึงและดำเนินการเกี่ยวกับบัญชีกลางในขอบเขตที่จำเป็นสำหรับการให้ความช่วยเหลือก็ได้
              นอกจากนี้ บริษัทจะไม่รับผิดชอบใด ๆ
              สำหรับความเสียหายที่เกิดขึ้นแก่ลูกค้าหรือผู้ใช้งานบัญชีกลาง
              (ต่อไปนี้เรียกว่า "ผู้ใช้งาน")
              ซึ่งเกิดขึ้นจากการดำเนินการดังกล่าวข้างต้น<br />
              5.4
              ในกรณีที่สัญญาที่เกี่ยวกับการใช้งานบัญชีกลางถูกยกเลิกหรือเสร็จสมบูรณ์
              หรือการให้การบริการบัญชีกลางเสร็จสมบูรณ์
              บริษัทสามารถลบข้อมูลเกี่ยวกับบัญชีกลางที่เกี่ยวข้องและเนื้อหาที่มีการเผยแพร่ผ่านทางบัญชีกลาง
              (หมายถึง
              ข้อมูลหรือเนื้อหาในรูปแบบที่ลูกค้าอนุญาตให้มีการส่งผ่านหรือเข้าถึงได้โดยผู้ใช้งานผ่านการใช้งานบัญชีกลาง
              รวมถึงแต่ไม่จำกัดเพียง ไอคอน ข้อมูลในโปรไฟล์ ข้อความ
              รูปภาพและภาพเคลื่อนไหวซึ่งส่งโดยลูกค้า ต่อไปนี้จะเรียกรวมกันว่า
              "เนื้อหา") โดยดุลพินิจของบริษัท
              และลูกค้าจะต้องให้ความยินยอมเพื่อการดำเนินการดังกล่าวด้วย<br />
              ข้อ 6 หน้าที่ในการรายงานข้อมูล<br />
              ในกรณีที่ลูกค้าเปลี่ยนแปลงชื่อ นามสกุล ที่อยู่อีเมล์ ภูมิลำเนา
              เบอร์โทรศัพท์ หรือข้อมูลทางการติดต่อสื่อสารอื่น ๆ
              ซึ่งได้ลงทะเบียนไว้กับบัญชีกลาง
              ลูกค้าดังกล่าวจะต้องรายงานการเปลี่ยนแปลงเช่นว่านั้นผ่านทางวิธีการที่บริษัทกำหนดไว้โดยทันที
              และในกรณีที่ได้มีการรายงานข้อมูลดังกล่าวแล้ว
              บริษัทอาจร้องขอให้ลูกค้าดังกล่าวนำส่งหลักฐานของการเปลี่ยนแปลงดังกล่าวและลูกค้าจะต้องปฏิบัติตามคำร้องขอเช่นว่านั้นด้วย<br />
              ข้อ 7 ความรับผิดชอบของลูกค้า<br />
              7.1 ในกรณีที่บุคคลที่สามได้มีการร้องเรียนหรือเรียกร้อง
              หรือยื่นฟ้องคดี และอื่น ๆ
              ต่อบริษัทเนื่องจากการใช้งานบัญชีกลางโดยลูกค้า
              ลูกค้าจะต้องตอบสนองต่อเรื่องดังกล่าวด้วยค่าใช้จ่ายของตนเองและต้องรับผิดชอบแต่เพียงฝ่ายเดียว
              และลูกค้าจะต้องไม่สร้างความยุ่งยากให้แก่บริษัทเกี่ยวกับเรื่องดังกล่าว
              ทั้งนี้ ลูกค้าจะต้องรับผิดชอบต่อความรับผิดทางกฎหมายใด ๆ
              ที่เกิดขึ้นจากการใช้งานบัญชีทางการโดยลูกค้า ซึ่งผู้บริหารจัดการ
              (administrators)
              และบุคลากรผู้ดำเนินการบัญชีกลางจะต้องรับผิดร่วมกันและแทนกันในเรื่องดังกล่าวด้วย
              ทั้งนี้ ลูกค้าตกลงว่าบริษัทจะไม่ต้องรับผิดชอบ
              ในความเสียหายหรือความรับผิดใด ๆ ที่เกิดขึ้นแก่บุคคลที่สามใด ๆ
              ซึ่งเกิดจากการใช้งานบัญชีกลาง<br />
              7.2 หากลูกค้าละเมิดสิทธิใด ๆ หรือก่อให้เกิดความเสียหายใด ๆ
              แก่บุคคลที่สามโดยการฝ่าฝืนกฎหมายที่เกี่ยวข้องหรือละเมิดข้อกำหนดนี้
              นอกเหนือจากข้อ 10.1 ดังกล่าวข้างต้นแล้ว บริษัทสามารถ (1)
              จำกัดหรือห้ามผู้บริหารจัดการหรือบุคลากรผู้ดำเนินการบัญชีกลางดังกล่าว
              มิให้ดำเนินการบัญชีทางการอื่นใดที่มีอยู่อีกต่อไป และ (2)
              ปฏิเสธการขอใช้บริการบัญชีกลางโดยผู้บริหารจัดการหรือบุคลากรผู้ดำเนินการบัญชีกลางที่จะมีขึ้นใหม่ในอนาคตโดยไม่ต้องบอกกล่าวล่วงหน้าหรือชี้แจงเหตุผล<br />
              7.3 ลูกค้าต้องชดใช้ความเสียหายใด ๆ (รวมถึง ค่าทนายความที่เกิดขึ้น)
              ต่อบริษัทซึ่งเกิดขึ้นจากการใช้งานบัญชีกลางโดยลูกค้าโดยทันที<br />
              ข้อ 8 การปฏิบัติต่อข้อมูลซึ่งระบุตัวตนของลูกค้า<br />
              8.1
              บริษัทต้องใช้ข้อมูลซึ่งระบุตัวตนของลูกค้าซึ่งลูกค้าดังกล่าวได้ให้ไว้แก่บริษัทภายในขอบเขตซึ่งสอดคล้องกับคำอธิบายที่ระบุไว้ในนโยบายความเป็นส่วนตัวของวันไอดี
              (One ID Privacy Policy) และการประมวลผลของบัญชีกลาง<br />
              8.2 เว้นแต่จะมีกฎหมาย ข้อบังคับ และ/หรือ
              นโยบายความเป็นส่วนตัวของวันไอดี (One ID Privacy Policy)
              และเว้นแต่จะได้มีการขอรับความยินยอมของลูกค้าที่เกี่ยวข้องเป็นรายคนแยกจากกัน
              บริษัทต้องไม่ให้ข้อมูลซึ่งระบุตัวตนของลูกค้าแก่บุคคลที่สามโดยไม่ได้รับความยินยอมจากลูกค้าดังกล่าว<br />
              8.3 ลูกค้าสามารถร้องขอให้บริษัทเปิดเผย แก้ไข เพิ่มเติม และ/หรือ
              ลบข้อมูลซึ่งระบุตัวตนซึ่งบริษัทได้รวบรวมไว้จากลูกค้า
              โดยที่อย่างไรก็ตาม การเปิดเผย การแก้ไข การเพิ่มเติม และ/หรือ
              การลบข้อมูลนั้นจะต้องเป็นไปตามขั้นตอนที่กำหนดขึ้นต่างหากโดยบริษัท
              และอาจจะมีค่าใช้จ่ายแยกต่างหากในบางกรณีด้วย ทั้งนี้ โปรดติดต่อ ณ
              ที่อยู่ของบริษัทดังต่อไปนี้สำหรับคำถามเกี่ยวกับการการเปิดเผย
              การแก้ไข การเพิ่มเติมและ/หรือการลบหรือการร้องเรียนต่าง ๆ
              (02-257-7198)<br />
              8.4
              ลูกค้าตกลงล่วงหน้าว่าข้อมูลทั้งหมดซึ่งได้ลงทะเบียนไว้โดยลูกค้าเกี่ยวกับการบริการภายใต้ข้อบังคับนี้จะถูกลบเมื่อมีการเลิกสัญญา<br />
              8.5 ลูกค้าตกลงว่า
              บริษัทสามารถได้รับข้อมูลเชิงสถิติเกี่ยวกับการใช้การบริการของลูกค้า
              (รวมถึงแต่ไม่จำกัดเพียง ข้อมูลเชิงสถิติ เช่น
              จำนวนผู้ใช้เฉพาะและจำนวนข้อความ)
              เพื่อวัตถุประสงค์ในการดำเนินการและปรับปรุงบัญชีและการบริการ<br />
              ข้อ 9 การโอนและพันธมิตรทางธุรกิจ<br />
              9.1
              บริษัทสามารถโอนการให้การบริการบัญชีกลางบางส่วนให้แก่บริษัทในกลุ่มของบริษัทหรือแก่บุคคลที่สามก็ได้<br />
              9.2
              บริษัทสามารถให้ข้อมูลเกี่ยวกับบัญชีกลางแก่คู่ค้าทางธุรกิจและบุคคลที่สามอื่น
              ๆ (อย่างไรก็ตาม ไม่รวมถึงข้อมูลส่วนบุคคล)
              เกี่ยวกับลูกค้าเพื่อจัดให้ซึ่งการทำงานของบัญชีกลางแก่คู่ค้าทางธุรกิจและเว็บไซต์
              แอพพลิเคชั่น และอื่น ๆ เป็นต้น ของบุคคลที่สามอื่น ๆ ในการนี้
              การเชื่อมโยงของลูกค้ากับบัญชีทางการ และอื่น ๆ
              อาจถูกแสดงอยู่บนเว็บไซต์ของคู่ค้าทางธุรกิจหรือบุคคลที่สามอื่น ๆ
              ก็ได้ ยิ่งไปกว่านั้น
              บริษัทสามารถแสดงตัวชี้แหล่งในอินเทอร์เน็ตของเว็บไซต์ (URL)
              ซึ่งรวมถึงข้อมูลของลูกค้าไว้ที่หุ้นส่วนทางธุรกิจ
              เผยแพร่การเชื่อมต่อสู่เว็บไซต์ดังกล่าว เป็นต้น
              ในหน้าบัญชีกลางของลูกค้านั้นด้วย<br />
              ข้อ 10 การระงับ การเปลี่ยนแปลง และการเสร็จสมบูรณ์ของการบริการ
              <br />
              10.1 ในกรณีของข้อใดข้อหนึ่งดังต่อไปนี้
              บริษัทสามารถระงับการให้การบริการบัญชีกลางได้ในบางกรณี
              ถึงแม้ว่าบริษัทจะได้ระงับบัญชีทางการเป็นการชั่วคราว
              บริษัทจะไม่รับผิดชอบใด ๆ สำหรับการระงับดังกล่าวต่อลูกค้า <br />
              (1) ในกรณีของการบำรุงรักษา ตรวจสอบ หรือเรื่องอื่นในทำนองเดียวกัน
              เกี่ยวกับสิ่งอำนวยความหรืออุปกรณ์ที่จำเป็นสำหรับการให้การบริการบัญชีทางการ
              ซึ่งได้มีขึ้นตามปกติหรือในกรณีฉุกเฉิน <br />
              (2) ในกรณีที่มีความล้มเหลว การหยุดทำงาน
              หรือเรื่องอื่นในทำนองเดียวกัน
              เกิดขึ้นกับสิ่งอำนวยความสะดวกหรืออุปกรณ์ที่ใช้ในการให้การบริการบัญชีทางการ<br />
              (3)
              ในกรณีที่เป็นไปไม่ได้ที่จะใช้งานการบริการโทรคมนาคมซึ่งดำเนินการโดยผู้ประกอบธุรกิจโทรคมนาคม<br />
              (4)
              ในกรณีที่มีความยุ่งยากในการให้การบริการบัญชีทางการเนื่องจากไฟดับ
              ไฟไหม้ แผ่นดินไหวการประท้วงของแรงงาน
              หรือเหตุสุดวิสัยในรูปแบบอื่น<br />
              (5)
              ในกรณีที่มีสาเหตุเกี่ยวกับการดำเนินการหรือสาเหตุทางเทคนิคที่เกี่ยวข้องกับบัญชีทางการอย่างสมเหตุสมผล<br />
              10.2
              บริษัทสามารถเปลี่ยนแปลงหรือสิ้นสุดการดำเนินการบัญชีกลางทั้งหมดหรือบางส่วนได้โดยการประกาศหรือแจ้งให้ลูกค้าทราบในเรื่องดังกล่าว
              แม้ว่าบริษัทจะได้เปลี่ยนแปลงหรือสิ้นสุดการดำเนินการบัญชีกลางแล้วไม่ว่าทั้งหมดหรือบางส่วน
              บริษัทจะไม่รับผิดชอบใด ๆ ในเรื่องดังกล่าวต่อลูกค้าทั้งสิ้น<br />
              ข้อ 11 ความเสียหาย<br />
              11.1
              ในกรณีที่ลูกค้าได้ละเมิดข้อกำหนดนี้และก่อให้เกิดความเสียหายแก่บริษัท
              (รวมถึงแต่ไม่จำกัดเพียง ค่าทนายความที่สมเหตุสมผล)
              ลูกค้าจะต้องรับผิดชดใช้ความเสียหายนั้นให้แก่บริษัทโดยทันที<br />
              11.2 ในกรณีที่ลูกค้าได้รับการการร้องเรียน การอ้างสิทธิ การร้องขอ
              การเรียกร้อง การคัดค้าน และอื่น ๆ เป็นต้น (ต่อไปนี้จะเรียกว่า
              “การร้องเรียน และอื่น ๆ”) จากบุคคลที่สาม เกี่ยวกับบัญชีกลาง
              โดยอ้างว่าสิทธิของบุคคลที่สามนั้นถูกละเมิด
              ลูกค้าดังกล่าวจะต้องดำเนินการและแก้ไขการร้องเรียน และอื่น ๆ
              นั้นด้วยค่าใช้จ่ายและความรับผิดชอบของตน ทั้งนี้
              ลูกค้าต้องรับผิดชอบในความรับผิดทางกฎหมายใด ๆ
              ที่เกิดขึ้นจากการใช้งานบัญชีกลางโดยลูกค้าด้วยตนเอง
              และลูกค้าตกลงว่าบริษัทจะไม่ต้องรับผิดสำหรับความเสียหายและการรับผิดใด
              ๆ ซึ่งเกิดขึ้นจากการใช้งานบัญชีกลางโดยลูกค้าไม่ว่าในกรณีใดก็ตาม
              ซึ่งในกรณีที่มีความเสียหายเกิดขึ้นต่อบริษัทที่เกี่ยวข้องกับการร้องเรียน
              และอื่น ๆ ลูกค้าจะต้องชดใช้ความเสียหายดังกล่าวทั้งหมดให้แก่บริษัท
              นอกจากนี้ ในกรณีที่บริษัทดำเนินการหรือแก้ไขการร้องเรียน และอื่น ๆ
              ดังกล่าวในนามของลูกค้าที่เกี่ยวข้อง
              ลูกค้าที่เกี่ยวข้องต้องรับผิดชอบค่าใช้จ่ายทั้งหมดสำหรับการดำเนินการและการแก้ไขนั้นด้วย<br />
              11.3 บริษัทจะไม่รับผิดชอบต่อความเสียหายใด ๆ
              ที่เกิดขึ้นแก่ลูกค้าจากการใช้งานบัญชีกลางโดยลูกค้า
              โดยที่กรณีดังกล่าวจะไม่บังคับใช้กับความเสียหายซึ่งเกิดขึ้นเนื่องจากการจงใจก่อให้เกิดความเสียหายหรือความประมาทเลินเล่ออย่างร้ายแรงโดยบริษัท
              ในกรณีดังกล่าว
              บริษัทจะรับผิดชอบในการชดใช้ความเสียหายทั่วไปและความเสียหายโดยตรงที่บริษัทก่อให้เกิดแก่ลูกค้า
              เป็นจำนวนสูงสุดไม่เกินค่าบริการสำหรับบัญชีทางการที่ได้ชำระแล้วโดยลูกค้านั้นในเดือนที่ความเสียหายนั้นได้มีขึ้น<br />
              ข้อ 12 การระงับการใช้และการบอกเลิก<br />
              12.1
              ในกรณีที่บริษัทเห็นว่าข้อใดข้อหนึ่งดังต่อไปนี้เกิดขึ้นกับลูกค้าหรืออาจจะเกิดขึ้นกับลูกค้า
              บริษัทสามารถระงับบัญชีกลาง
              โดยการระงับการใช้งานบัญชีกลางโดยลูกค้าเป็นการชั่วคราว
              หรือบอกเลิกสัญญาต่าง ๆ (ต่อไปนี้จะเรียกว่า “สัญญา”)
              กับลูกค้าภายใต้ข้อกำหนดนี้ โดยไม่จำเป็นต้องแจ้งให้ทราบแต่อย่างใด
              และหากมีความเสียหายเกิดขึ้นแก่ลูกค้าจากการระงับการใช้งานหรือการบอกเลิกสัญญาดังกล่าว
              บริษัทจะไม่รับผิดชอบใด ๆ ในเรื่องดังกล่าวแก่ลูกค้านั้น<br />
              (1)
              ในกรณีที่บริษัทได้ทราบถึงการมีอยู่ของเหตุในการปฏิเสธคำขอตามที่ระบุไว้ในข้อ<br />
              1.3 หลังจากการเริ่มต้นการใช้งานบัญชีกลาง
              (ไม่ว่าบัญชีที่เกี่ยวข้องนั้นจะเป็นบัญชีที่ได้รับการยืนยันแล้วหรือไม่ก็ตาม)<br />
              (2)
              ในกรณีที่ลูกค้าได้ใช้บัญชีทางการสำหรับวัตถุประสงค์ที่ไม่ชอบด้วยกฎหมาย<br />
              (3) ในกรณีที่บริษัทเชื่อว่ามีการขาดความน่าเชื่อถือของลูกค้า<br />
              (4)
              ในกรณีที่ไม่สามารถติดต่อลูกค้าได้ด้วยสาเหตุที่ไม่ใช่ความผิดของบริษัท<br />
              (5)
              ในกรณีที่ลูกค้าไม่เข้าสู่บัญชีของตนภายในระยะเวลาหนึ่งที่กำหนดขึ้นโดยบริษัท<br />
              (6) นอกเหนือจากกรณีที่ได้ระบุไว้ข้างต้น
              ในกรณีที่ลูกค้าได้ดำเนินการที่บริษัทเห็นว่าไม่เหมาะสม<br />
              ข้อ 13 การรักษาข้อมูลความลับ<br />
              ลูกค้าตกลงที่จะดูแลรักษาข้อมูลความลับของคู่สัญญาอีกฝ่ายเพื่อให้เป็นความลับต่อไป
              จะไม่เปิดเผยข้อมูลความลับหรือยินยอมให้บุคคลอื่นรับทราบ
              หรือใช้ข้อมูลความลับ
              โดยจะใช้มาตรฐานการดูแลข้อมูลความลับนั้นเสมือนกับการดูแลรักษาข้อมูลความลับที่สุดของตนเองเป็นอย่างน้อย
              เว้นแต่ จะได้รับความยินยอมเป็นลายลักษณ์อักษรจากบริษัท
            </p>

            <!-- Bottom detector div -->
            <div ref="bottomDetector" class="bottom-detector"></div>
          </div>
        </v-card-text>

        <v-card-actions class="fixed-footer">
          <div style="width: 100%; text-align: center">
            <v-slide-y-transition>
              <div v-if="!scrolledToEnd" class="policy-chip">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10 4.16699V15.8337M10 15.8337L15 10.8337M10 15.8337L5 10.8337"
                    stroke="#58A144"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>

                <span class="policy-chip-text">เลื่อนลงไปด้านล่างสุด</span>
              </div>
            </v-slide-y-transition>

            <div v-if="scrolledToEnd" class="policy-button">
              <v-btn class="cancelButton" @click="cancelPolicy">ยกเลิก</v-btn>
              <v-btn class="acceptButton" @click="acceptPolicy">ยอมรับ</v-btn>
            </div>
          </div>
        </v-card-actions>
      </v-card>
    </v-dialog>
  </v-app>
</template>

<script>
import positionCard from "../components/submitPage/index/positionCard.vue";
import personalCard from "../components/submitPage/index/personalCard.vue";
import educationCard from "../components/submitPage/education/educationCard.vue";
import familyCard from "../components/submitPage/family/familyCard.vue";
import skillCard from "../components/submitPage/skill/skillCard.vue";

export default {
  layout: "form",
  components: {
    positionCard,
    personalCard,
    educationCard,
    familyCard,
    skillCard,
  },
  data() {
    return {
      popup: false,
      scrolledToEnd: false,
      observer: null,
      policyAcceptance: false,
    };
  },
  watch: {
    popup(val) {
      if (val) {
        this.$nextTick(() => {
          this.setupIntersectionObserver();
        });
      } else {
        // Clean up observer when dialog closes
        this.disconnectObserver();
      }
    },
  },
  beforeDestroy() {
    this.disconnectObserver();
  },
  methods: {
    setupIntersectionObserver() {
      const bottomDetector = this.$refs.bottomDetector;
      if (!bottomDetector) return;

      // Create intersection observer
      this.observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              // Bottom div is visible in viewport
              console.log("Scrolled to bottom!");
              this.scrolledToEnd = true;
            }
          });
        },
        {
          root: null, // Use viewport as root
          threshold: 1.0, // Trigger when 100% of element is visible
        }
      );

      // Start observing
      this.observer.observe(bottomDetector);
    },

    disconnectObserver() {
      if (this.observer) {
        this.observer.disconnect();
        this.observer = null;
      }
    },

    acceptPolicy() {
      this.popup = false;
      // this.scrolledToEnd = false; // Reset for next time
      this.policyAcceptance = true;
    },

    cancelPolicy() {
      this.popup = false;
      // this.scrolledToEnd = false; // Reset for next time
      this.policyAcceptance = false;
    },

    closePolicy() {
      this.popup = false;
      // this.scrolledToEnd = false; // Reset for next time
    },
  },
};
</script>

<style scoped>
.form-body {
  width: 100%;
  max-width: 1128px;
  background-color: #ffffff;
  border-radius: 8px;
  box-shadow: 0px 0px 4px 0px #00000029;
  box-sizing: border-box;
  padding: 24px;
}

div.form-first-section {
  width: 100%;
  min-height: 236px;
  max-width: 1080px;
  background-color: #ffffff;
  border-radius: 8px;
}

div.policy-section {
  width: 221px;
  height: 20px;
  margin: 24px auto 0px auto;
}

label.policy-section {
  display: flex;
  align-content: center;
  padding: 2px;
  justify-content: space-between;
  user-select: none;
  cursor: pointer;
}

#myCheckbox {
  width: 15px;
  height: 15px;
  accent-color: #58a144;
  outline: 1px auto #58a144;
  cursor: pointer;
}

.policy-section > label {
  font-weight: 400;
  font-family: "Sarabun", sans-serif;
  line-height: 16px;
  font-size: 12px;
}

.card-title {
  background-color: #f0f9ee !important;
  height: 40px !important;
  position: relative !important;
}

.card-title-text {
  font-family: "Sarabun", sans-serif !important;
  font-weight: 700 !important;
  font-size: 16px !important;
  line-height: 24px !important;
  color: #58a144 !important;
}

.policy-text {
  width: 100%;
  max-height: 400px; /* Set max height to make it scrollable */
  overflow-y: auto;
  border-radius: 8px;
  padding: 16px;
  background-color: #fafafa;
}

.policy-text > p {
  font-family: "Sarabun", sans-serif !important;
  font-weight: 400 !important;
  font-size: 16px !important;
  line-height: 26px !important;
  color: #333333;
  margin-bottom: 16px;
}

.bottom-detector {
  height: 1px;
  width: 100%;
  visibility: hidden;
}

.fixed-footer {
  position: sticky;
  bottom: 0;
  padding: 12px 16px;
  background-color: white;
  z-index: 10;
}

.policy-chip {
  width: 100% !important;
  max-width: 771px;
  height: 32px !important;
  background-color: white !important;
  border-radius: 8px;
  border: 1px solid #58a144 !important;
  display: flex;
  justify-content: center;
  align-items: center;
  margin: auto;
}

.policy-chip-text {
  font-weight: 600;
  font-family: "Sarabun", sans-serif;
  line-height: 140%;
  font-size: 14px;
  color: #58a144;
}

.policy-button {
  width: 100%;
  max-width: 236px;
  height: 40px;
  display: flex;
  justify-content: space-between;
  margin: auto;
}
.closeButton {
  height: 24px !important;
  width: 24px !important;
  background-color: #f0f9ee !important;
  box-shadow: none !important;
  align-items: center;
  border-radius: 4px;
  display: inline-flex;
  flex: 0 0 auto;
  font-weight: 500;
  letter-spacing: 0.0892857143em;
  justify-content: center;
  outline: 0;
  position: relative;
  text-decoration: none;
  text-indent: 0.0892857143em;
  text-transform: uppercase;
  transition-duration: 0.28s;
  transition-property: box-shadow, transform, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  vertical-align: middle;
  white-space: nowrap;
  cursor: pointer;
  position: absolute; /* positioned relative to .parent */
  top: 8px;
  right: 16px;
}

.closeButton:hover {
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.28); /* stronger elevation */
  background-color: #dee5dc !important;
}

.cancelButton {
  height: 40px !important;
  width: 100% !important;
  max-width: 110px !important;
  border: 1px solid #d7000a !important;
  background-color: white !important;
  color: #d7000a !important;
  border-radius: 8px !important;
  box-shadow: none !important;
}

.acceptButton {
  height: 40px !important;
  width: 100% !important;
  max-width: 110px !important;
  background-color: #58a144 !important;
  color: #ffffff !important;
  border-radius: 8px !important;
  box-shadow: none !important;
}
</style>
